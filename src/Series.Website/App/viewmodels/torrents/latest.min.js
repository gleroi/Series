define(["require","exports","services/series.services"],function(n,t,i){var r=i,u;(function(n){function i(t){var i=ko.mapping.toJS(t);console.log("updateTorrent (vm):",i),n.torrentsService.update(i)}function u(){n.latestService.get().then(function(i){var r=ko.utils.arrayMap(i,function(n){return new t(n)});n.torrents(r)})}function f(){u()}n.displayName="Latest",n.torrents=ko.observableArray(),n.torrentsService=new r.Series.TorrentService,n.latestService=new r.Series.LatestService;var t=function(){function n(n){var t=this;this.Id=ko.observable(),this.Filename=ko.observable(),this.Status=ko.observable(),ko.mapping.fromJS(n,null,this),this.Ignore=ko.computed({read:function(){return t.Status()==0},write:function(){t.Status(t.Status()==0?1:0),i(t)}})}return n}();f()})(t.Latest||(t.Latest={})),u=t.Latest})